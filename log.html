<!DOCTYPE html>
<html>
<body>

<h2 id="status">Logger loaded</h2>

<script>
  const action = new URLSearchParams(window.location.search).get("action");
  document.getElementById("status").innerText = "Action = " + action;

  fetch("https://script.google.com/macros/s/AKfycbxQWDsYmnmxYQtr-KVtJ7KPbLG3E3lHPZaGp_Ps6VBQa1pd-cPVW7sS6qjgrZgblrHs/exec", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      action: action,
      userAgent: navigator.userAgent
    })
  })
  .then(res => {
    document.getElementById("status").innerText += "\nPOST sent, status " + res.status;
    return res.text();
  })
  .then(txt => {
    document.getElementById("status").innerText += "\nResponse: " + txt;
  })
  .catch(err => {
    document.getElementById("status").innerText += "\nERROR: " + err;
  });
</script>

</body>
</html>
